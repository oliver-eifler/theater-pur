!function(){"use strict";var a,b=window,c=b.document,d=c.documentElement,e=["Webkit","Moz","ms","O"],f=function(){function a(a){var c,d,g=b(a.target);if(g){if("form"===g.nodeName.toLowerCase()&&"submit"!==a.type)return;c=g.getAttribute("data-observe"),e.call(f,c)||(f[c]={}),f[c].triggered=!0,d=f[c].fn,d&&d.call(g,a,g)}}function b(a){if("closest"in a)return a.closest("[data-observe]");for(;a&&a!==d;){if(a.hasAttribute("data-observe"))return a;a=a.parentNode}return null}var c={},e={}.hasOwnProperty,f={};return c.bind=function(a,b){f[a]={triggered:!1,fn:b}},c.unbind=function(a){e.call(f,a)&&delete f[a]},c.isTriggered=function(a){return e.call(f,a)&&f[a].triggered},c.disable=function(){d.removeEventListener("click",a,!1),d.removeEventListener("submit",a,!1)},d.addEventListener("click",a,!1),d.addEventListener("submit",a,!1),c}(),g=b.requestAnimationFrame,h=b.cancelAnimationFrame,i=0;g&&h||e.forEach(function(a){a=a.toLowerCase(),g=g||b[a+"RequestAnimationFrame"],h=h||b[a+"CancelAnimationFrame"]||b[a+"CancelRequestAnimationFrame"]}),a=g,g&&h||(g=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-i));return i=c+d,b.setTimeout(function(){a(c+d)},d)},h=function(a){b.clearTimeout(a)}),a=a||g;var j=function(){function a(){var a=this;a.reads=[],a.writes=[],a.raf=g.bind(b)}function c(a){a.scheduled||(a.scheduled=!0,a.raf(d.bind(null,a)))}function d(a){var b,d=a.writes,f=a.reads;try{e(f),e(d)}catch(a){b=a}if(a.scheduled=!1,(f.length||d.length)&&c(a),b){if(!a.catch)throw b;a.catch(b)}}function e(a){for(var b;b=a.shift();)b.fn.call(b.ctx)}function f(a,b){var c=a.indexOf(b);return!!~c&&!!a.splice(c,1)}function h(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}a.prototype={constructor:a,measure:function(a,b){var d={fn:a,ctx:b};return this.reads.push(d),c(this),d},mutate:function(a,b){var d={fn:a,ctx:b};return this.writes.push(d),c(this),d},clear:function(a){return f(this.reads,a)||f(this.writes,a)},extend:function(a){if("object"!=typeof a)throw new Error("expected object");var b=Object.create(this);return h(b,a),b.fastdom=this,b.initialize&&b.initialize(),b},catch:null};var i=b.fastdom=b.fastdom||new a;return i}(),k=function(){function a(){return b.orientation&&void 0!==b.orientation?Math.abs(+b.orientation)%180:0}function c(){var a,b;for(a in f)f.hasOwnProperty(a)&&(b=f[a].fn,b&&b.call(null,j,k))}function d(d){var e=b.innerWidth,f=b.innerHeight;if(e==j&&f==k)return d.preventDefault(),void d.stopImmediatePropagation();j=e,k=f;var i=a();return i!==l?(h(m),c(),l=i):(h(m),m=g(c))}var e={},f={},i="resize",j=b.innerWidth,k=b.innerHeight,l=a(),m=null;return e.bind=function(a,b){f[a]={fn:b}},e.unbind=function(a){f.hasOwnProperty(a)&&delete f[a]},e.disable=function(){b.removeEventListener(i,d,!1)},e.enable=function(){b.addEventListener(i,d,!1)},e.size=function(){return{width:b.innerWidth,height:b.innerHeight}},b.addEventListener(i,d,!1),e}(),l=function(){function a(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(var b in a)if(void 0!==d.style[b]){h=a[b],i=b;break}}function b(){return g||(g=c.createElement("div"),g.style.cssText="position:absolute;width:1em;height:1em;left:-1em;top:-1em;z-index:-1;",i&&(g.style[i]="height 1ms linear"),d.getElementsByTagName("body")[0].appendChild(g)),g}function e(){var a=b().getBoundingClientRect();return a.bottom-a.top}function f(a){j=e();var b,c;for(c in l)l.hasOwnProperty(c)&&(b=l[c].fn,b&&b.call(null,j))}var g,h,i,j,k={},l={},m=!1;return k.bind=function(c,d){m||(a(),j=e(),h&&b().addEventListener(h,f,!1),m=!0),l[c]={fn:d}},k.unbind=function(a){l.hasOwnProperty(a)&&delete l[a]},k.disable=function(){h&&g&&g.removeEventListener(h,f,!1)},k.enable=function(){h&&g&&g.addEventListener(h,f,!1)},k.fontSize=function(){return j},k}(),m=function(){function a(){o=c.querySelector(".nav"),p=o.querySelector(".nav-button"),q=o.querySelector(".nav-menu"),r=o.querySelector(".nav-hidden"),d(),e(),n(),p.addEventListener("click",function(){m()},!1),k.bind("mainmenu",function(){b()}),l.bind("mainmenu",function(){z=!0,b()})}function b(){return h(y),y=g(n)}function d(){t=0,u=[].slice.call(q.children),u.forEach(function(a){var b=a.cloneNode(!0);b.classList.add("hidden"),r.appendChild(b),t++}),v=[].slice.call(r.children),p.setAttribute("count",t)}function e(){var a=0;w=[],x=[],u.forEach(function(b){a+=b.offsetWidth,w.push(a),x.push(null)}),s=p.offsetWidth}function f(a,b){if(x[a]!==b){var c=u[a],d=v[a];j.mutate(function(){b?(c.classList.remove("hidden"),d.classList.add("hidden")):(c.classList.add("hidden"),d.classList.remove("hidden")),x[a]=b})}}function i(a){var b=p.contains(a.target)||r.contains(a.target);b||m(!1)}function m(a){return a===!0?r.classList.remove("hidden"):a===!1?r.classList.add("hidden"):r.classList.toggle("hidden"),r.classList.contains("hidden")?(p.classList.remove("active"),c.removeEventListener("click",i,!1)):(p.classList.add("active"),c.addEventListener("click",i,!1)),!r.classList.contains("hidden")}function n(){j.measure(function(){1==z&&(e(),z=!1);for(var a=t,b=0,c=!p.classList.contains("hidden"),d=q.offsetWidth,g=d+(c?s:0),h=g-s;a;)d=b?h:g,d<w[--a]?(f(a,!1),b++):f(a,!0);j.mutate(function(){b?(p.setAttribute("count",b),!c&&p.classList.remove("hidden")):(m(!1),c&&p.classList.add("hidden"))})})}var o,p,q,r,s,t=0,u=[],v=[],w=[],x=[],y=null,z=!1;return{init:a,togglePulldown:m}}();f.bind("lightbox",function(a,b){b.classList.toggle("lightbox"),a.stopPropagation(),a.preventDefault()}),Âµ.ready(function(){m.init()})}();