!function(){"use strict";function a(a){setTimeout(function(){a()},0)}function b(b){for(g=!0;b=j.shift();)a(b)}var c,d=window,e=d.document,f=["Webkit","Moz","ms","O"],g=e.attachEvent?"complete"===e.readyState:"loading"!==e.readyState,h="DOMContentLoaded",i="addEventListener",j=[];g||(e[i]?e[i](h,c=function(){e.removeEventListener(h,c),b()},!1):!function a(){if(!g)return"complete"===e.readyState?b():void setTimeout(a,10)}());var k,l=function(b){if("function"==typeof b)return g?a(b):void j.push(b)},m=d.requestAnimationFrame,n=d.cancelAnimationFrame,o=0;m&&n||f.forEach(function(a){a=a.toLowerCase(),m=m||d[a+"RequestAnimationFrame"],n=n||d[a+"CancelAnimationFrame"]||d[a+"CancelRequestAnimationFrame"]}),k=m,m&&n||(m=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-o));return o=b+c,d.setTimeout(function(){a(b+c)},c)},n=function(a){d.clearTimeout(a)}),k=k||m;var p=function(){function a(){var a=this;a.reads=[],a.writes=[],a.raf=m.bind(d)}function b(a){a.scheduled||(a.scheduled=!0,a.raf(c.bind(null,a)))}function c(a){var c,d=a.writes,f=a.reads;try{e(f),e(d)}catch(a){c=a}if(a.scheduled=!1,(f.length||d.length)&&b(a),c){if(!a.catch)throw c;a.catch(c)}}function e(a){for(var b;b=a.shift();)b.fn.call(b.ctx)}function f(a,b){var c=a.indexOf(b);return!!~c&&!!a.splice(c,1)}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}a.prototype={constructor:a,measure:function(a,c){var d={fn:a,ctx:c};return this.reads.push(d),b(this),d},mutate:function(a,c){var d={fn:a,ctx:c};return this.writes.push(d),b(this),d},clear:function(a){return f(this.reads,a)||f(this.writes,a)},extend:function(a){if("object"!=typeof a)throw new Error("expected object");var b=Object.create(this);return g(b,a),b.fastdom=this,b.initialize&&b.initialize(),b},catch:null};var h=d.fastdom=d.fastdom||new a;return h}(),q=function(){function a(){return d.orientation&&void 0!==d.orientation?Math.abs(+d.orientation)%180:0}function b(){var a,b;for(a in f)f.hasOwnProperty(a)&&(b=f[a].fn,b&&b.call(null,h,i))}function c(c){var e=d.innerWidth,f=d.innerHeight;if(e==h&&f==i)return c.preventDefault(),void c.stopImmediatePropagation();h=e,i=f;var g=a();return g!==j?(n(k),b(),j=g):(n(k),k=m(b))}var e={},f={},g="resize",h=d.innerWidth,i=d.innerHeight,j=a(),k=null;return e.bind=function(a,b){f[a]={fn:b}},e.unbind=function(a){f.hasOwnProperty(a)&&delete f[a]},e.disable=function(){d.removeEventListener(g,c,!1)},e.enable=function(){d.addEventListener(g,c,!1)},e.size=function(){return{width:d.innerWidth,height:d.innerHeight}},d.addEventListener(g,c,!1),e}(),r=function(){function a(){i=e.querySelector(".nav"),j=i.querySelector(".nav-button"),k=i.querySelector(".nav-links"),l=i.querySelector(".nav-hidden-links"),b(),c(),h(),j.addEventListener("click",function(){g()},!1),q.bind("mainmenu",function(){u?v=!0:h()})}function b(){n=0,o=[].slice.call(k.children),o.forEach(function(a){var b=a.cloneNode(!0);b.classList.add("hidden"),l.appendChild(b),n++}),r=[].slice.call(l.children),j.setAttribute("count",n)}function c(){var a=0;s=[],t=[],o.forEach(function(b){a+=b.offsetWidth,s.push(a),t.push(!0)}),m=j.offsetWidth}function d(a,b){if(t[a]!==b){var c=o[a],d=r[a];p.mutate(function(){b?(c.classList.remove("hidden"),d.classList.add("hidden")):(c.classList.add("hidden"),d.classList.remove("hidden")),t[a]=b})}}function f(a){var b=j.contains(a.target)||l.contains(a.target);b||g(!1)}function g(a){return a===!0?l.classList.remove("hidden"):a===!1?l.classList.add("hidden"):l.classList.toggle("hidden"),l.classList.contains("hidden")?(j.classList.remove("active"),e.removeEventListener("click",f,!1)):(j.classList.add("active"),e.addEventListener("click",f,!1)),!l.classList.contains("hidden")}function h(){u=!0,p.measure(function(){for(var a=n,b=0,c=!j.classList.contains("hidden"),e=k.offsetWidth,f=e+(c?m:0),g=f-m;a;)e=b?g:f,e<s[--a]?(d(a,!1),b++):d(a,!0);p.mutate(function(){b?(j.setAttribute("count",b),!c&&j.classList.remove("hidden")):c&&j.classList.add("hidden"),v&&h(),u=!1,v=!1})})}var i,j,k,l,m,n=0,o=[],r=[],s=[],t=[],u=!1,v=!1;return{init:a,togglePulldown:g}}();l(function(){r.init()})}();