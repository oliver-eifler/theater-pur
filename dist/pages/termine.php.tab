<?php
require_once("php/class/ollidate.class.php");

$this->created = 1465034394;
$this->modified = filemtime(__FILE__);
$this->title = "Termine";
$this->subtitle = "Wann und wo Sie unsere Vorstellungen sehen können";
$this->description = "Unsere Termine, Wann und wo Sie unsere Vorstellungen sehen können";
$this->image = "images/termine.jpg";
?>
<section class="element wrapper-narrow text-center">
    <?php
    $termine =PageConfig::getInstance()->getRef('termine');
    $out = "";
    foreach($termine as $termin) {
        $date = new OlliDate($termin->date);
        if ($date->diffDays() < 0)
            continue;
        $out .= "<div class='tr'>";
        $out .= "<div class='ti'>".$date->weekday."</div><div class='ti text-right'>".$date->getDateStr()."</div>";
        $out .= "<div class='ti'>";
            if ($termin->premiere === true)
                $out .="<span class='important'>Premiere:</span><br>";
            $out.="<a href='".$termin->link."'><q>".$termin->name."</q></a></div>";
        $out .= "<div class='ti text-right'>".$date->getTimeStr()."</div>";
        $out .= "<div class='ti'>".$termin->wo_prefix."<a href='".$termin->wo_link."'>".$termin->wo."</a></div>";
        $out .= "</div>";
    }
    $html ="";
    if ($out != "") {
        $html .= "<p><b>Vorbestellungen</b>: <a href='mailto:karten@theater-pur.de'>karten@theater-pur.de</a></p>";
        $html .= "<div class='tl tl-inline termine text-left'>".$out."</div>";
    } else {
        $html .= "<p><b>Die Termine für die nächsten Vorstellungen sind leider noch nicht bekannt!</b></p>";
    }
    echo $html;
    ?>
</section>